<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<head><title>Manage Users</title></head>

<body>

<ui:composition template="WEB-INF/template/commonLayout.xhtml">

<ui:define name="content">
			
<div>
<h:form id="form">
	<p:dataTable var="user" value="#{users.userList}" style="width:60%">
		<p:column>
			<f:facet name="header">Name</f:facet>
			#{user.lastname}
		</p:column>
		<p:column>
			<f:facet name="header">Login</f:facet>
			#{user.login}
		</p:column>
		<p:column>
			<f:facet name="header">Admin</f:facet>
			<p:selectBooleanCheckbox value="#{user.admin}" disabled="true" />
		</p:column>
		<p:column>
			<h:commandButton value="Edit" action="#{adminControlerBean.editSelectedUser(user)}"> </h:commandButton>
			<h:commandButton value="Delete" action="#{adminControlerBean.deleteUser(user)}"> </h:commandButton>
		
		</p:column>
	</p:dataTable>
	<h:commandButton value="Add" action="#{adminControlerBean.newUser()}"></h:commandButton>
</h:form>	     

<h:form>
	<p:outputPanel id="userPanel" style="text-align:center;width:30%;">
		<p:panelGrid  columns="2" rendered="#{not empty selectedUser}" columnClasses="label,value">
	         <f:facet name="header"></f:facet>
	
	         <h:outputText value="firstname:" />
	         <h:inputText value="#{selectedUser.firstname}" />
	         <h:outputText value="lastname:" />
	         <h:inputText value="#{selectedUser.lastname}" />
	         <h:outputText value="mail:" />
	         <h:inputText value="#{selectedUser.mail}" />
	         <h:outputText value="age:" />
	         <h:inputText value="#{selectedUser.age}" />
	         <h:outputText value="login:" />
	         <h:inputText value="#{selectedUser.login}" />
	         <h:outputText value="password:" />
	         <p:password value="#{selectedUser.pwd}" redisplay="true" />
	         <h:outputText value="admin:" />
	         <p:selectBooleanCheckbox value="#{selectedUser.admin}" />
	         
	         
	
	 	 	</p:panelGrid>
	 	 	<h:commandButton value="Save" action="#{adminControlerBean.saveUser(selectedUser)}"> </h:commandButton>
	    	<h:commandButton value="Close" action="#{adminControlerBean.closeTab()}"> </h:commandButton>
	           
	
	</p:outputPanel>
	
</h:form>		
</div>		
		
</ui:define>

<ui:define name="footer">
	<h2>This is page1 Footer</h2>
</ui:define>

</ui:composition>


</body>

</html>